<app-header></app-header>

<div class="container my-3">
    <div class="row">

        <div class="col-12 mb-3">

            <div class="mb-2">
                <strong>Notification</strong>
            </div>


            <div class=" p-3 rounded bg-light ">
                <div class="row ">
                    <div class="col">
                        <div class="border p-2 rounded shadow-sm alert-info text-center" [routerLink]="[ '/verived/' ]">
                            <b class="display-6"> Verified User</b>
                            <h1>{{items.verified}}</h1>
                        </div>
                    </div>
                    <div class="col">
                        <div class="border p-2 rounded shadow-sm alert-warning text-center" [routerLink]="[ '/withdraw' ]">
                            <b class="display-6"> Withdraw (WD)</b>
                            <h1>{{items.withdraw}}</h1>
                        </div>
                    </div>
                    <div class="col">
                        <div class="border p-2 rounded shadow-sm alert-primary text-center" [routerLink]="[ '/topup' ]">
                            <b class="display-6"> Top Up </b>
                            <h1>{{items.topup}}</h1>
                        </div>
                    </div>
                    <div class="col">
                        <div class="border p-2 rounded shadow-sm alert-success text-center" [routerLink]="[ '/renewal' ]">
                            <b class="display-6"> Renewal Membership</b>
                            <h1>{{items.renewal}}</h1>
                        </div>
                    </div>
                </div>
            </div>


            <div class="mt-3">
                <div class="row">

                    <div class="col-4">
                        <div class="border p-2 shadow-sm bg-light">

                            <strong>New Member</strong>
                            <div class="row no-gutters">
                                <div class="col">
                                    <div class="mr-1">
                                        <select class="form-control form-control-sm " [(ngModel)]="date.year">
                                            <option *ngFor="let x of years">{{x.year}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col">
                                    <select class="form-control form-control-sm" [(ngModel)]="date.month">
                                        <option value="01">Jan</option>
                                        <option value="02">Feb</option>
                                        <option value="03">Mar</option>
                                        <option value="04">Apr</option>
                                        <option value="05">Mei</option>
                                        <option value="06">Jun</option>
                                        <option value="07">Jul</option>
                                        <option value="08">Aug</option>
                                        <option value="09">Sep</option>
                                        <option value="10">Oct</option>
                                        <option value="11">Nov</option>
                                        <option value="12">Des</option>
                                    </select>
                                </div>
                                <div class="col">
                                    <div class="mx-1">
                                        <button type="button" class="btn btn-sm btn-primary btn-block" (click)="onMemberYear();">Filter</button>
                                    </div>
                                </div>
                                <div class="col-12" [hidden]="!loading">
                                    Loading...
                                </div>
                            </div>
                            <table class="table table-sm table-bordered mt-2 bg-white">

                                <tbody>
                                    <tr>
                                        <td>STARTER </td>
                                        <td> {{member.starter}} </td>
                                    </tr>
                                    <tr>
                                        <td>PREMIUM </td>
                                        <td> {{member.premium}} </td>
                                    </tr>
                                    <tr>
                                        <td>VIP </td>
                                        <td> {{member.vip}} </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>


                    <div class="col-4">
                        <div class="border p-2 shadow-sm bg-light">
                            <strong>Top Up List</strong>
                            <table class="table table-sm table-bordered mt-2 bg-white">
                                <tbody>
                                    <tr>
                                        <td>Day
                                            <div><small>INTERVAL 1 day</small></div>
                                        </td>
                                        <td class="text-right"> {{topupList.d.total}} </td>
                                        <td class="text-right">Rp {{topupList.d.amount | number}} </td>
                                    </tr>
                                    <tr>
                                        <td>Weekly
                                            <div><small>INTERVAL 7 day</small></div>
                                        </td>
                                        <td class="text-right"> {{topupList.w.total}} </td>
                                        <td class="text-right">Rp {{topupList.w.amount | number}} </td>
                                    </tr>
                                    <tr>
                                        <td>Monthly
                                            <div><small>INTERVAL 31 day</small></div>
                                        </td>
                                        <td class="text-right"> {{topupList.m.total}} </td>
                                        <td class="text-right">Rp {{topupList.m.amount | number}} </td>
                                    </tr>
                                    <tr>
                                        <td>Years
                                            <div><small>INTERVAL 365 day</small></div>
                                        </td>
                                        <td class="text-right"> {{topupList.y.total}} </td>
                                        <td class="text-right">Rp {{topupList.y.amount | number}} </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>


                    <div class="col-4">
                        <div class="border p-2 shadow-sm bg-light">
                            <strong>Sistem information</strong>
                            <table class="table table-sm table-bordered mt-2 bg-white">
                                <tr>
                                    <td>User</td>
                                    <td>{{items.user | number}} records</td>
                                </tr>
                                <tr>
                                    <td>General Transaction</td>
                                    <td>{{items.transaction | number}} records</td>
                                </tr>
                            </table>
                        </div>

                    </div>
                </div>


            </div>

        </div>



    </div>
</div>